# Array对象

### 数组方法里`push`、`pop`、`shift`、`unshift`、`join`、`splice`分别是什么作用

`Array`是JavaScript的内置对象，同时也是一个构造函数，可以用它生成新的数组。

`push`：用于在数组的末端添加一个或多个元素，并返回添加新元素后的数组长度。（在原数组上操作）

```js
var a = [];
a.push(1); // 1
a.push('a'); // 2
a.push(true,{}); // 4
console.log(a); // [1,'a',true,{}]
```

上面我们使用`push`的方法，先后往数组中添加了四个成员。
如果需要合并两个数组，也可以这样写。

```js
var a = [1,2];
var b = [2,3];
a.push.apply(a,b)
a // [1,2,2,3]
```

`pop`：用于删除数组最后一个元素，并返回该元素。（在原数组上操作）

```js
var a = [1,2,3];
a.pop() // 3
a // [1,2]
```

对空数组使用`pop`方法，不会报错，而是返回`underfined`。

`shift`：用于删除数组的第一个元素，并返回该元素。（在原数组上操作）

```js
var a = ['a','b','c'];
a.shift() // 'a'
a // ['a','b']
```

`unshift`：用于在数组的第一个位置添加元素，并返回添加新元素后的数组长度。（在原数组上操作）

```js
var a = [1,2,3];
a.unshift(0); // 4
a // [0,1,2,3] 


var a = [1,2,3];
a.unshift(0,1); // 5
a // [0,1,1,2,3] 
```

`unshift`也可在数组头部添加多个元素。

`splice`：用于一次性解决数组添加、删除以及替换，该方法有三个参数
1. 开始索引
2. 删除元素的位移
3. 插入的新元素（可以写多个）

`splice`方法返回一个由删除元素组成的新数组，没有删除则返回空数组。

指定前两个参数，可以使用`splice`删除数组元素，同样会带来索引调整及length调整。

如果数组索引不是从0开始的

```js
var a = new Array();
a[2]=2;
a[3]=3;
a[7]=4;
a[8]=5;
console.log(a.splice(3,4)); //[3]
console.log(a.length); //5
console.log(a); //[2: 2, 3: 4, 4: 5]
```

可以看到，`splice`的第一个参数是绝对索引值，而不是相对于数组索引；第二个参数并不是删除元素的个数，而是删除动作执行多少次，并不是按数组实际索引移动，而是连续移动。

只要方法第二个参数，也就是删除动作执行的次数设为0，第三个参数及以后填写要插入内容就splice就能执行插入操作；如果第二个参数不为0则变成了先在该位置删除再插入，也就是替换效果。

### 数组常用操作

`join(char)`：以参数作为分隔符，将所有数组成员组成一个字符串返回。（默认为逗号分隔）

```js
var a = [1,2,3,4,5];
a.join('|') // "1|2|3|4|5"
a.join() // "12345"
```

如果数组成员有`undefined`或`null`或空位，会被转成空字符串。

`slice(start,end)`：用于返回数组中一个片段或子数组。如果只写一个参数，则返回参数到数组结束部分；如果参数出现负数，则从数组尾部计数；如果start大于end返回空数组。并不会改变原数组，而是返回一个新的数组。

`concat(array)`：用于拼接数组，它将新数组的成员，添加到原数组的尾部。`a.concat(b)`返回一个a和b共同组成的新数组，同样不会修改任何一个原始数组。

`reverse`：用于将数组逆序，会修改原数组。如果数组索引不是连续或从0开始，孔雀部分会自动填补为空。

```js
var a = new Array();
a[2]=2;
a[3]=3;
a[7]=4;
a[8]=5;
a.reverse(); // [5, 4, empty × 3, 3, 2, empty × 2]
// 0:5, 1:4, 5:3, 6:2, length:9
```

`sort`：用于对数组排序，当没有参数是会按照字母表升序排序，也就是说，数值会被先转成字符串，再按照字典顺序进行比较，所以`101`会排在`11`前面。如果含有`undefined`会被拍到最后面，对象元素则会调用其`toString`方法；如果按照自己定义方式排序，可以传一个排序方式进去。同样会改变原数组。
